const express = require('express');
const cors = require('cors');

const app = express();
app.use(express.json());
app.use(cors());

// Routes
app.get('/', (req, res) => {
    res.send("Welcome to Cosmo Bite Restaurant & Resort API");
});

app.post('/welcome', (req, res) => {
    const { name } = req.body;
    if (!name) return res.status(400).json({ message: "Name is required" });
    const firstLetter = name[0].toUpperCase();
    const messages = {
        'A': "Amazing to have you here!", 'B': "Be ready for a delightful experience!", 'C': "Come and enjoy your time!", 'D': "Delight awaits you!", 'E': "Enjoy the best hospitality!",
        'F': "Feel at home with us!", 'G': "Great to see you!", 'H': "Happy moments start here!", 'I': "Indulge in luxury!", 'J': "Joy and comfort together!",
        'K': "Kindly relax and enjoy!", 'L': "Luxury at its best!", 'M': "Memorable experiences await!", 'N': "Never a dull moment here!", 'O': "Outstanding service guaranteed!",
        'P': "Pleasure to serve you!", 'Q': "Quality hospitality awaits!", 'R': "Relax and rejuvenate!", 'S': "Special moments await!", 'T': "Treat yourself today!",
        'U': "Unforgettable stay ahead!", 'V': "Vacation in comfort!", 'W': "Welcome to paradise!", 'X': "Xceptional service awaits!", 'Y': "Your happiness matters!", 'Z': "Zeal and zest await!"
    };
    res.json({ message: messages[firstLetter] || "Welcome to our resort!" });
});

const menu = [
    {
        cuisine: "North Indian",
        region: "Punjab",
        dishes: [
            { name: "Butter Chicken", description: "Creamy tomato-based chicken curry. (High in protein & rich in flavors)" }
        ]
    },
    {
        cuisine: "North Indian",
        region: "Kashmir",
        dishes: [
            { name: "Rogan Josh", description: "Slow-cooked aromatic lamb curry. (Packed with proteins & warming spices)" },
            { name: "Yakhni Pulao", description: "Fragrant rice cooked in saffron yogurt broth. (Easy digestion & rich in flavor)" }
        ]
    },
    {
        cuisine: "South Indian",
        region: "Tamil Nadu",
        dishes: [
            { name: "Dosa with Sambar", description: "Crispy fermented crepe with lentil soup. (Probiotic-rich & great for digestion)" },
            { name: "Chettinad Chicken", description: "Spicy & flavorful chicken dish. (Boosts metabolism & immunity)" }
        ]
    }
    // Add more regions and dishes as needed
];

app.get('/menu', (req, res) => {
    res.json(menu);
});

const rooms = [
    { type: "AC", price: 100, facilities: ["WiFi", "TV", "Mini Bar"] },
    { type: "Non-AC", price: 70, facilities: ["WiFi", "TV"] }
];

app.get('/rooms', (req, res) => {
    res.json(rooms);
});

const payments = ["Credit Card", "Debit Card", "UPI", "Cash"];

app.get('/payments', (req, res) => {
    res.json(payments);
});

// Start Server
const PORT = process.env.PORT || 5000;
app.listen(PORT, () => console.log(`Server running on port ${PORT}`));
